<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Loop-i Lab — Registro</title>
<meta name="theme-color" content="#0f1216" />

<style>
:root{
  --brand:#fc4b08;
  --accent:#ffd27f;
  --bg:#0f1216;
  --panel:#151a21;
  --panel-2:#0d1117;
  --border:#21262d;
  --text:#e6e6e6;
  --muted:#a0a0a0;
  --ring: rgba(252,75,8,.35);
}
*{ box-sizing:border-box; }
body{
  margin:0;
  font-family:Poppins,ui-sans-serif,system-ui;
  background:var(--bg);
  color:var(--text);
  display:grid;
  place-items:center;
  padding:1.5rem;
}
.panel{
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:14px;
  box-shadow:0 12px 40px rgba(0,0,0,.35);
  padding:1.6rem;
  width:min(420px,100%);
}
h1{ margin-top:0; }
label{ font-weight:600; font-size:.95rem; }
.field{
  display:grid;
  position:relative;
  margin-bottom:.9rem;
}
input{
  width:100%;
  padding:.75rem .9rem;
  padding-right:2.8rem;
  border-radius:10px;
  border:1px solid var(--border);
  background:var(--panel-2);
  color:var(--text);
  outline:none;
}
input:focus{ border-color:#2b3440; box-shadow:0 0 0 4px var(--ring); }
.toggle-eye{
  grid-area:1 / 1;
  justify-self:end;
  align-self:center;
  margin-right:.6rem;
  width:2rem; height:2rem;
  display:flex; align-items:center; justify-content:center;
  background:transparent; border:0; color:#b6c2d0;
  cursor:pointer; line-height:0; z-index:1;
}
.toggle-eye svg{ width:20px; height:20px; }
.strength{
  height:6px;
  border-radius:4px;
  background:#333;
  margin-top:-6px;
  margin-bottom:.9rem;
}
.strength span{
  display:block;
  height:100%;
  border-radius:4px;
}
.terms{
  display:flex;
  align-items:center;
  justify-content:center; /* centrado horizontal */
  gap:0.6rem;
  font-size:0.92rem;
  color:#c9d4e3;
  margin-bottom:1rem;
  flex-wrap:wrap;
}
.terms a{
  color:var(--accent);
  text-decoration:underline;
}
.terms a:hover{
  color:#ffe7b3;
}
.terms input[type="checkbox"]{
  appearance:none;
  width:18px; height:18px;
  border:2px solid var(--border);
  border-radius:4px;
  background:var(--panel-2);
  display:inline-block;
  position:relative;
  cursor:pointer;
}
.terms input[type="checkbox"]:checked{
  background:var(--brand);
  border-color:var(--brand);
}
.terms input[type="checkbox"]:checked::after{
  content:"✓";
  position:absolute;
  color:white;
  font-size:14px;
  left:2px;
  top:-1px;
}
.btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding:.8rem 1rem;
  border-radius:10px;
  border:1px solid transparent;
  font-weight:800;
  cursor:pointer;
  text-decoration:none;
}
.btn-primary{
  background:linear-gradient(90deg,var(--brand),#b33000);
  color:white;
  box-shadow:0 12px 28px rgba(252,75,8,.25);
}
.btn-primary:hover{ filter:brightness(1.05); }
.helper{ font-size:.9rem; color:var(--muted); margin-top:.6rem; text-align:center; }
.helper a{ color:#fff; text-decoration:none; }
.helper a:hover{ text-decoration:underline; }

/* Toasts */
.toast-stack{
  position: fixed;
  right: 16px;
  bottom: 16px;
  display: grid;
  gap: 10px;
  z-index: 9999;
}
.toast{
  display:flex; align-items:center; gap:.6rem;
  min-width: 260px; max-width: 420px;
  padding:.8rem 1rem;
  border-radius: 10px;
  border:1px solid var(--border);
  background: #11161b;
  color: var(--text);
  box-shadow: 0 10px 28px rgba(0,0,0,.35);
  animation: toast-in .25s ease-out, toast-out .25s ease-in 3.5s forwards;
}
.toast.success{ border-color: rgba(76,175,80,.35); }
.toast.error{   border-color: rgba(244,67,54,.35); }
.toast .dot{ inline-size:.6rem; block-size:.6rem; border-radius:50%; }
.toast.success .dot{ background:#4caf50; }
.toast.error .dot{   background:#f44336; }
.toast button.toast-close{
  margin-left:auto; background:transparent; border:0;
  color:#9fb3c8; cursor:pointer; font-size:1rem;
}
@keyframes toast-in{ from{ transform: translateY(10px); opacity:0 } to{ transform:translateY(0); opacity:1 } }
@keyframes toast-out{ to{ transform: translateY(10px); opacity:0 } }
</style>
</head>
<body>

<div class="panel">
  <h1>Crear cuenta</h1>
  <form id="registerForm">
    <div class="field">
      <label for="name">Nombre</label>
      <input type="text" id="name" name="name" placeholder="Tu nombre" required>
    </div>
    <div class="field">
      <label for="email">Correo electrónico</label>
      <input type="email" id="email" name="email" placeholder="tucorreo@ejemplo.com" required>
    </div>
    <div class="field">
      <label for="password">Contraseña</label>
      <input type="password" id="password" name="password" required>
      <button type="button" class="toggle-eye" aria-label="Mostrar u ocultar" aria-pressed="false" onclick="togglePassword(this,'password')">
        <svg aria-hidden="true" viewBox="0 0 24 24"><path d="M1 12s4-7 11-7 11 7 11 7-4 7-11 7S1 12 1 12z" stroke="currentColor" fill="none"/><circle cx="12" cy="12" r="3" stroke="currentColor" fill="none"/></svg>
      </button>
    </div>
    <div class="strength"><span></span></div>
    <div class="field">
      <label for="confirm">Confirmar contraseña</label>
      <input type="password" id="confirm" name="confirm" required>
      <button type="button" class="toggle-eye" aria-label="Mostrar u ocultar" aria-pressed="false" onclick="togglePassword(this,'confirm')">
        <svg aria-hidden="true" viewBox="0 0 24 24"><path d="M1 12s4-7 11-7 11 7 11 7-4 7-11 7S1 12 1 12z" stroke="currentColor" fill="none"/><circle cx="12" cy="12" r="3" stroke="currentColor" fill="none"/></svg>
      </button>
    </div>
    <label class="terms">
      <input type="checkbox" id="terms"> Acepto los <a href="#">Términos</a> y la <a href="#">Política de privacidad</a>.
    </label>
    <button class="btn btn-primary" type="submit">Crear cuenta</button>
    <div class="helper">
      ¿Ya tienes cuenta? <a href="login.html">Inicia sesión</a>
    </div>
  </form>
</div>

<div class="toast-stack" aria-live="polite" aria-atomic="true"></div>

<script>
const form = document.getElementById('registerForm');
const strengthBar = document.querySelector('.strength span');

function togglePassword(btn,id){
  const input = document.getElementById(id);
  const showing = input.type === 'password';
  input.type = showing ? 'text' : 'password';
  btn.setAttribute('aria-pressed', showing ? 'true' : 'false');
}

function showToast(type, text){
  const stack = document.querySelector('.toast-stack');
  const toast = document.createElement('div');
  toast.className = `toast ${type}`;
  toast.innerHTML = `<span class="dot"></span><div class="msg">${text}</div><button class="toast-close">✕</button>`;
  toast.querySelector('.toast-close').onclick = () => {
    toast.style.animation = 'toast-out .2s ease-in forwards';
    setTimeout(()=> toast.remove(), 180);
  };
  toast.addEventListener('animationend', e => {
    if(e.animationName==='toast-out') toast.remove();
  });
  stack.appendChild(toast);
}

document.getElementById('password').addEventListener('input', e=>{
  const val = e.target.value;
  let score = 0;
  if(val.length >= 6) score++;
  if(/[A-Z]/.test(val)) score++;
  if(/[0-9]/.test(val)) score++;
  if(/[^A-Za-z0-9]/.test(val)) score++;
  const colors = ['#f44336','#ff9800','#ffc107','#4caf50'];
  strengthBar.style.width = (score*25)+'%';
  strengthBar.style.background = colors[score-1] || '#333';
});

form.addEventListener('submit', e=>{
  e.preventDefault();
  const name = form.name.value.trim();
  const email = form.email.value.trim();
  const pass = form.password.value;
  const confirm = form.confirm.value;
  const terms = document.getElementById('terms').checked;

  if(!name || !email || !pass || !confirm){
    showToast('error','Completa todos los campos.');
    return;
  }
  if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)){
    showToast('error','Correo inválido.');
    return;
  }
  if(pass.length < 6){
    showToast('error','La contraseña debe tener al menos 6 caracteres.');
    return;
  }
  if(pass !== confirm){
    showToast('error','Las contraseñas no coinciden.');
    return;
  }
  if(!terms){
    showToast('error','Debes aceptar los términos.');
    return;
  }

  showToast('success','✅ Registro exitoso. Redirigiendo…');
  setTimeout(()=>{ window.location.href = 'login.html'; }, 900);
});
</script>

</body>
</html>
