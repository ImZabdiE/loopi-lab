<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Loop-i Lab ‚Äî Registro</title>
<meta name="theme-color" content="#0f1216" />

<style>
:root{
  --brand:#fc4b08;
  --accent:#ffd27f;
  --bg:#0f1216;
  --panel:#151a21;
  --panel-2:#0d1117;
  --border:#21262d;
  --text:#e6e6e6;
  --muted:#a0a0a0;
  --ring: rgba(252,75,8,.35);
}
*{ box-sizing:border-box; }

body{
  margin:0;
  font-family:Poppins,ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial;
  background:var(--bg);
  color:var(--text);
  display:grid;
  place-items:center;
  padding:1.5rem;
}

/* Panel centrado y contenido centrado */
.panel{
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:14px;
  box-shadow:0 12px 40px rgba(0,0,0,.35);
  padding:2rem 1.6rem;
  width:min(520px,100%);
  text-align:center; /* centra t√≠tulos, labels y ayudas */
}

h1{ margin:0 0 1rem; font-size:2rem; }
label{ font-weight:600; font-size:.95rem; display:block; margin:0 auto .4rem; }

/* Campo + ojo DENTRO del input (absoluto) */
.field{
  position:relative;
  margin:0 auto 1rem;
  width:100%;
  max-width:460px;
}
input{
  width:100%;
  padding:.75rem .9rem;
  padding-right:2.6rem; /* espacio para el ojo */
  border-radius:10px;
  border:1px solid var(--border);
  background:var(--panel-2);
  color:var(--text);
  outline:none;
}
input:focus{ border-color:#2b3440; box-shadow:0 0 0 4px var(--ring); }

/* ojo dentro del input, centrado vertical */
.toggle-eye{
  position:absolute;
  top:50%;
  right:10px;
  transform:translateY(-50%);
  width:32px; height:32px;
  display:flex; align-items:center; justify-content:center;
  background:transparent; border:0; color:#b6c2d0;
  cursor:pointer; line-height:0;
}

/* Barra de fuerza */
.strength{
  height:6px; border-radius:4px; background:#2a2f35;
  margin:-6px auto 1rem; width:100%; max-width:460px;
  border:1px solid var(--border);
}
.strength span{ display:block; height:100%; border-radius:4px; width:0%; }

/* T√©rminos centrado y checkbox personalizado */
.terms{
  display:flex; align-items:center; justify-content:center;
  gap:.6rem; flex-wrap:wrap; margin:0 auto 1.2rem;
  color:#c9d4e3; font-size:.95rem;
  max-width:460px;
}
.terms a{ color:var(--accent); text-decoration:underline; }
.terms a:hover{ color:#ffe7b3; }

.terms input[type="checkbox"]{
  appearance:none; width:18px; height:18px; border:2px solid var(--border);
  border-radius:4px; background:var(--panel-2); position:relative; cursor:pointer;
}
.terms input[type="checkbox"]:checked{ background:var(--brand); border-color:var(--brand); }
.terms input[type="checkbox"]:checked::after{
  content:"‚úì"; position:absolute; color:#fff; font-size:14px; left:2px; top:-1px;
}

/* Botones */
.btn{
  display:inline-flex; align-items:center; justify-content:center;
  padding:.85rem 1.2rem; border-radius:10px; border:1px solid transparent;
  font-weight:800; cursor:pointer; text-decoration:none;
}
.btn-primary{
  background:linear-gradient(90deg,var(--brand),#b33000);
  color:#fff; box-shadow:0 12px 28px rgba(252,75,8,.25);
}
.btn-primary:hover{ filter:brightness(1.05); }

.helper{ font-size:.92rem; color:#cbd3db; margin-top:1rem; }
.helper a{ color:#fff; text-decoration:none; }
.helper a:hover{ text-decoration:underline; }

/* Toasts (√©xito/error) */
.toast-stack{ position:fixed; right:16px; bottom:16px; display:grid; gap:10px; z-index:9999; }
.toast{
  display:flex; align-items:center; gap:.6rem;
  min-width:260px; max-width:420px; padding:.8rem 1rem;
  border-radius:10px; border:1px solid var(--border);
  background:#11161b; color:var(--text);
  box-shadow:0 10px 28px rgba(0,0,0,.35);
  animation:toast-in .25s ease-out, toast-out .25s ease-in 3.5s forwards;
}
.toast.success{ border-color:rgba(76,175,80,.35); }
.toast.error{ border-color:rgba(244,67,54,.35); }
.toast .dot{ inline-size:.6rem; block-size:.6rem; border-radius:50%; }
.toast.success .dot{ background:#4caf50; }
.toast.error .dot{ background:#f44336; }
.toast button.toast-close{ margin-left:auto; background:transparent; border:0; color:#9fb3c8; cursor:pointer; font-size:1rem; }
@keyframes toast-in{ from{ transform:translateY(10px); opacity:0 } to{ transform:translateY(0); opacity:1 } }
@keyframes toast-out{ to{ transform:translateY(10px); opacity:0 } }
</style>
</head>
<body>

<div class="panel">
  <h1>Crear cuenta</h1>

  <form id="registerForm" novalidate>
    <div class="field">
      <label for="name">Nombre</label>
      <input type="text" id="name" name="name" placeholder="Tu nombre" required />
    </div>

    <div class="field">
      <label for="email">Correo electr√≥nico</label>
      <input type="email" id="email" name="email" placeholder="tucorreo@ejemplo.com" required />
    </div>

    <div class="field">
      <label for="password">Contrase√±a</label>
      <input type="password" id="password" name="password" placeholder="M√≠nimo 6 caracteres" required />
      <button type="button" class="toggle-eye" aria-label="Mostrar/ocultar contrase√±a" onclick="togglePassword(this,'password')">
        <!-- simple ojo -->
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-7 11-7 11 7 11 7-4 7-11 7-11-7-11-7Z"/><circle cx="12" cy="12" r="3"/></svg>
      </button>
    </div>

    <div class="strength" aria-hidden="true"><span id="strengthBar"></span></div>

    <div class="field">
      <label for="confirm">Confirmar contrase√±a</label>
      <input type="password" id="confirm" name="confirm" required />
      <button type="button" class="toggle-eye" aria-label="Mostrar/ocultar confirmaci√≥n" onclick="togglePassword(this,'confirm')">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-7 11-7 11 7 11 7-4 7-11 7-11-7-11-7Z"/><circle cx="12" cy="12" r="3"/></svg>
      </button>
    </div>

    <label class="terms">
      <input type="checkbox" id="terms" />
      <span>Acepto los <a href="#">T√©rminos</a> y la <a href="#">Pol√≠tica de privacidad</a>.</span>
    </label>

    <button class="btn btn-primary" type="submit">Crear cuenta</button>

    <div class="helper">¬øYa tienes cuenta? <a href="login.html">Inicia sesi√≥n</a></div>
  </form>
</div>

<div class="toast-stack" aria-live="polite" aria-atomic="true"></div>

<script>
const form = document.getElementById('registerForm');
const strengthBar = document.getElementById('strengthBar');

function togglePassword(btn, id){
  const input = document.getElementById(id);
  const showing = input.type === 'password';
  input.type = showing ? 'text' : 'password';
  btn.setAttribute('aria-pressed', showing ? 'true' : 'false');
  input.focus({preventScroll:true});
}

function showToast(type, text){
  const stack = document.querySelector('.toast-stack');
  const toast = document.createElement('div');
  toast.className = `toast ${type}`;
  toast.innerHTML = `<span class="dot"></span><div class="msg">${text}</div><button class="toast-close">‚úï</button>`;
  toast.querySelector('.toast-close').onclick = () => {
    toast.style.animation = 'toast-out .2s ease-in forwards';
    setTimeout(()=> toast.remove(), 180);
  };
  toast.addEventListener('animationend', e=>{
    if(e.animationName==='toast-out') toast.remove();
  });
  stack.appendChild(toast);
}

/* fuerza de contrase√±a b√°sica */
document.getElementById('password').addEventListener('input', e=>{
  const v = e.target.value;
  let score = 0;
  if(v.length >= 6) score++;
  if(/[A-Z]/.test(v)) score++;
  if(/[0-9]/.test(v)) score++;
  if(/[^A-Za-z0-9]/.test(v)) score++;
  const colors = ['#f44336','#ff9800','#ffc107','#4caf50'];
  strengthBar.style.width = (score*25)+'%';
  strengthBar.style.background = colors[score-1] || '#333';
});

form.addEventListener('submit', e=>{
  e.preventDefault();
  const name = form.name.value.trim();
  const email = form.email.value.trim();
  const pass = form.password.value;
  const conf = form.confirm.value;
  const terms = document.getElementById('terms').checked;

  if(!name || !email || !pass || !conf){ showToast('error','Completa todos los campos.'); return; }
  if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)){ showToast('error','Correo inv√°lido.'); return; }
  if(pass.length < 6){ showToast('error','La contrase√±a debe tener al menos 6 caracteres.'); return; }
  if(pass !== conf){ showToast('error','Las contrase√±as no coinciden.'); return; }
  if(!terms){ showToast('error','Debes aceptar los T√©rminos y la Privacidad.'); return; }

  showToast('success','üéâ Registro exitoso (simulado). Redirigiendo‚Ä¶');
  setTimeout(()=>{ window.location.href = 'login.html'; }, 1200);
});
</script>

</body>
</html>
